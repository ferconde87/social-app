  <%= form_with(model: @post, local: true) do |f| %>
  <%= render 'shared/error_messages', object: f.object %>
  <div class="col-lg-6 col-md-10 mx-auto">
    <div class="form-floating ">
      <%= f.text_area :content, id: 'post-form', placeholder: 'What are you thinking?',   class: "form-control mb-2", style: "height: 100px", :required => true %>    
      <%= f.label 'What are you thinking?', for: 'post-form', class: "text-secondary form-label" %>    </div>
    <div class="mb-4">
      <div>
        <%= f.label 'Upload an image to your post...', for: 'post_image', class: "text-secondary form-label" %>
      </div>
      <%= f.file_field :image, id: 'post_image', accept: "image/*", class:"form-control-file" %>
    </div>
    <%= f.submit "Post", class: "btn btn-primary px-5 mb-5 w-100" %>
  </div>
<% end %>

<script type="text/javascript">
  var post_image = document.getElementById("post_image");
  post_image.onchange = function() {
    const size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes > 5) {
      alert("Maximum file size is 5MB. Please choose a smaller file.");
      //post_image.val("");
    }
  };
</script>
